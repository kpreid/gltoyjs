<!doctype html>
<html><head>
  <title>voronoi test</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  
  <script type="text/javascript" src="deps/game-shim/game-shim.js"></script>
  <script type="text/javascript" src="deps/gl-matrix/gl-matrix.js"></script>
  <script type="text/javascript" src="deps/webgl-debug.js"></script>
  <script type="text/javascript" src="gltoy.js"></script>

  <script type="text/javascript">
    var exports = {};
  </script>
  <script type="text/javascript" src="effects/voronoi/effect.js"></script>
  
  <style type="text/css">
    html, body, canvas {
      display: block;
      margin: 0;
      border: none;
      padding: 0;
      width: 100%;
      height: 100%;
    }
  </style>
  
  <script type="text/javascript">
    var gl, glw;
    
    var mvMatrix = mat4.create();
    
    function gltoyMain() {
      var canvas = document.getElementById("canvas");
      gltoy.fetchShaders("effects/voronoi/", exports.shaders, function (shaders) {
        glw = new gltoy.GLWrapper(canvas, exports.shaders, shaders);
        gl = glw.context;

        var effect = new exports.Effect(glw);

        effect.setState();
        function loop() {
          glw.beginFrame();
          effect.draw();
          glw.endFrame();
          window.requestAnimationFrame(loop, canvas);
        }
        loop();
      });
    }
  </script>
</head>
<body onload="gltoyMain();">
  <canvas id="canvas"></canvas>
</body>
</html>
